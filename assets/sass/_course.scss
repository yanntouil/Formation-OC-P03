/**
 * Project Ohmyfood
 * Course component
 */





/**
 * List of courses starter, maincourse, desert
 */

.courses {
    display: flex; flex-direction: column;
    gap: $margin;
    &-title {
        display: flex; flex-direction: column;
        text-transform: uppercase;
        &:after {
            content: '';
            width: 2.5rem;
            border-bottom: 3px solid $highlight-200;
        }
    }
    &-list {
        display: flex; flex-direction: column;
        gap: $margin;
    }
    // Progressive card pop
    $course-delay: .3s;// Delay between popping up
    $course-timing: 0;// Init timer
    @for $i from 1 to 4 {// Courses
        @for $ii from 1 to 4 {// Course
            &:nth-child(3n+#{$i}) .course:nth-child(3n+#{$ii}) {
                animation-duration: #{$course-timing}, 1s;
                animation-delay: 0ms, #{$course-timing};
            }
            $course-timing: $course-timing + $course-delay;
        }
        $course-timing: $course-timing + $course-delay * 3;
    }
}




/**
 * Course 1, 2, 3
 */

.course {
    --checkbox-width: 3.75rem;
    --course-margin: 0.875rem;
    display: flex; align-items: stretch;
    overflow-x: hidden;// To hide checkbox
    border-radius: 1rem;
    background-color: $white;
    @include md-box-shadow(1);
    animation-name: animate-pop-wait, animate-pop-in;// Fake animation to delay the second one and leave card fade
    animation-timing-function: linear, ease-out;
    &-content {
        flex-grow: 1;
        display: flex;
        margin: var(--course-margin) calc(var(--course-margin) * 2) var(--course-margin) var(--course-margin);
        gap: var(--course-margin);
        &-header {
            flex-grow: 1;
            display: flex; flex-direction: column;
            &-title {
                overflow: hidden;
                font-size: 1.125rem;
                font-weight: $font-bold;
                text-overflow: ellipsis;
                white-space: nowrap;
            }
            &-secondary {
                overflow: hidden;
                font-weight: $font-light;
                text-overflow: ellipsis;
                white-space: nowrap;
            }
        }
        &-price {
            flex-shrink: 0;
            display: flex; align-items: flex-end;
            color: $gray-800;
            font-weight: $font-extrabold;
        }
    }
    &-checkbox {// Hide on right with margin and overflow
        flex-shrink: 0;
        display: flex; justify-content: center; align-items: center;
        width: var(--checkbox-width);
        margin-right: calc(var(--checkbox-width) * -1);
        background-color: $highlight-200;
        transition: margin-right 300ms ease-in-out;
        &-icon svg {
            height: 1.25rem;
            color: $white;
        }
    }
    &:hover &-checkbox, &:focus &-checkbox {// Pop from right
        margin-right: 0;
    }
}




/**
 * Animations
 */

@keyframes animate-pop-in {// Popping up
    from { opacity: 0; transform: scale(0.5); }
    to { opacity: 1; transform: scale(1); }
}

@keyframes animate-pop-wait {// Fake animation delay
    from { opacity: 0; }
    to { opacity: 0; }
}